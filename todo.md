## Milestones for html-tag-validator v 0.1.x

- [ ] Possibly break out this package into its two (or more) different concerns
  - [ ] **[Current]** Parsing HTML code and generating an AST
  - [ ] **[Future]** Having a standard library with methods to navigate the AST generated by the parser

- [x] Set up grunt and create tasks to automate development, testing, building, etc...

### HTML attributes

- [x] Regular `value="bees"` and `value='bees'`
- [x] Attributes without quotes `value=1`
- [x] Attributes without values `checked`
- [x] Angular 2.0 values `[checked]="true"` `(click)="myFunc()"`
- [x] Inline `style` declarations `style="color: bold; content: 'my text';"`
- [x] Inline JavaScript in event attributes `click="run(event)"`

### Self-closing tags
- [x] Enforce whitelist of self-closing tags
- [ ] Enforce rule against invalid XHTML format `<img src="cat.gif" />`

  ``` html
  <img src="cat.gif">
  ```

### HTML `doctype` declarations
- [x] Support `doctype` syntax and position

  ``` html
  <!DOCTYPE html>
  ```

### Special tags
- [x] `script` tags
  - [x] validate `script` tags only have specific attributes
  - [x] a `script` tag cannot have a `src` AND contents at the same time

  ```html
  <script type="text/javascript" async src="cat.js"></script>
  ```

- [x] `style` tags
  - [x] validate `style` tags only have specific attributes

  ```html
  <style type="text/css"></style>
  ```

- [ ] `pre` tags
  - [ ] parse `pre` tags without trimming like regular elements

    ``` html
    <pre>

      The whitespace above, below and          here
      should be preserved.

    </pre>
    ```

- [ ] `link` tags
  - [x] validate `link` tags as void elements with specific attributes
  - [ ] validate `link` tags are only allowed in `head`

    ``` html
    <head>
      <link rel="stylesheet" type="text/css" href="theme.css">
    </head>
    ```

- [ ] `meta` tags
  - [x] validate `meta` tags as void elements
  - [x] validate `meta` tags only have specific attributes
  - [x] validate `meta` tags have specific rules for `content`, `name` and `http-equiv` attributes
  - [ ] validate `meta` tags are only allowed in `head`

    ``` html
    <head>
      <meta charset="UTF-8">
      <meta name="author" content="Nick Wronski">
    </head>
    ```

### Text nodes
- [x] parse text nodes

  ``` html
  <p>
    text node
    <strong>content within strong tag</strong>
  </p>
  ```

### Comment nodes
- [x] parse block comments

  ``` html
  <!--This is a comment. Comments are not displayed in the browser-->
  ```

### Conditional comments
- [x] parse conditional comments

  ``` html
  <!--[if gte mso 12]>
    <style>
      td {
        mso-line-height-rule: exactly;
      }
    </style>
  <![endif]-->
  ```

### Create standard AST format

- `element` (includes `link` and `meta` special tags)
  - [x] self-closing

    ```
    type:       element
    void:       true
    name:       div
    attributes: {}
    children:   []
    ```

  - [x] normal (closing)

    ```
    type:       element
    void:       false
    name:       div
    attributes: {}
    children:   []
    ```

- [x] `script`, `style`

  ```
  type:       script
  attributes:
    type: text/javascript
  content:
    """

      var Cat;

      Cat = (function() {
        function Cat(name1) {
          this.name = name1;
        }

        Cat.prototype.meow = function() {
          return "Meow, my name is " + name + "!";
        };

        return Cat;

      })();

      var myCat = new Cat("Catherine Catterson");
      alert(myCat.meow());

    """
  ```

- [x] `style`

  ```
  type:       style
  attributes:
    type: text/css
  content:
    """

      p {
        color: black;
      }

      body {
        background-color: white;
      }

      .main {
        color: #FF1212;
        font-weight: bold;
      }

    """
  ```

- [x] `text`

  ```
  type:     text
  contents: Hello there
  ```

- `comment`
  - [x] block comment

    ```
    type:        comment
    conditional: false
    condition:   null
    children:
      type:     text
      contents: Some sort of html comment
    ```

  - [x] conditional block comment

    ```
    type:        comment
    conditional: true
    condition:   if ie 8
    children:
      type:       element
      void:       false
      name:       p
      attributes: {}
      children:
        -
          type:     text
          contents: IE is version 8!
    ```

- [x] Have parser export AST
  - Partially completed (does not have all types yet)

### AST spec (in progress)

``` json
{
  "document": {
    "type": "element",
    "void": false,
    "name": "html",
    "attributes": { },
    "children": [
      {
        "type": "element",
        "void": false,
        "name": "head",
        "attributes": {},
        "children": [
          {
            "type": "script",
            "contents": "function myFunc() { console.log('hello, world!'); };"
          },
          {
            "type": "script",
            "attributes": {
              "type": "javascript",
              "src": "path/to/my/script.js"
            },
            "contents": null
          }
        ]
      },
      {
        "type": "element",
        "void": false,
        "name": "body",
        "attributes": {
          "class": "class1 class2",
          "bgcolor": "black"
        },
        "children": [
          {
            "type": "text",
            "content": "I am some text"
          },
          {
            "type": "element",
            "void": false,
            "name": "p",
            "attributes": {
              "id": "myPTag",
              "style": "font-weight: bold;"
            },
            "children": [
              {
               "type": "text",
               "content": "I am some more text"
              }
            ]
          }
        ]
      }
    ]
  }
}
```
